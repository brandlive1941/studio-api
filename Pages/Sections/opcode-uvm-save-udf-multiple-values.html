<article>
    <h1>OpCode UVM: Save UDF Multiple Values</h1>
    <h2>OpCode UVM: Save UDF Multiple Values</h2>
    <p class="articleContent">This opcode is used to save UDF values in the VTS system. One of UDFDefKey and UDFDefDescription must refer to a valid UDF Definition.</p>
    <h2>Calling the API</h2>
    <p class="articleContent">The API is called via a secure HTTPS request. This HTTPS request may be a GET or POST operation. Each request must supply the authentication credentials assigned to the caller by Notified. Only requests with valid credentials will be processed. These credentials identify the caller and provide access only to a specific customer area.</p>
    <p class="articleContent">The format of the call is: https://api.onlinexperiences.com/scripts/Server.nxp?LASCmd=AI:4;F:APIUTILS!50507&amp;APIUserAuthCode={YourAuthCode}&amp;APIUserCredentials={YourCredentials}&amp;OpCodeList={Opcode[OpCode[…]]}&amp;OutputFormat={J|X|H|T(default)} &amp;{Additional, opcode-specific parameters in name=value format…}</p>
    <p class="articleContent"><strong>Note: </strong>The format of the APAC Data Center is: https://api.apac.onlinexperiences.com.</p>
    <p class="articleContent">Specific parameter ordering is unimportant, with the only restriction being that the first parameter MUST BE LASCmd=AI:4;F:APIUTILS!50507. All other parameters may appear in any sequence.</p>
    <table border="1" cellpadding="1" cellspacing="1">
        <thead>
            <tr>
                <th>
                    <p class="articleContent">API Parameter</p>
                </th>
                <th>
                    <p class="articleContent">Type/Size</p>
                </th>
                <th>
                    <p class="articleContent">Req.</p>
                </th>
                <th>
                    <p class="articleContent">Comment</p>
                </th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>
                    <p class="articleContent">APIUserAuthCode</p>
                </td>
                <td>
                    <p class="articleContent">Varchar 80</p>
                </td>
                <td>
                    <p class="articleContent">Y</p>
                </td>
                <td>
                    <p class="articleContent">Your API authorization code as supplied by Notified.</p>
                </td>
            </tr>
            <tr>
                <td>
                    <p class="articleContent">APIUserCredentials</p>
                </td>
                <td>
                    <p class="articleContent">Varchar 80</p>
                </td>
                <td>
                    <p class="articleContent">Y</p>
                </td>
                <td>
                    <p class="articleContent">Your API user credentials as supplied by Notified.</p>
                </td>
            </tr>
            <tr>
                <td>
                    <p class="articleContent">OpCodeList</p>
                </td>
                <td>
                    <p class="articleContent">Varchar 20</p>
                </td>
                <td>
                    <p class="articleContent">Y</p>
                </td>
                <td>
                    <p class="articleContent">Should include UVS to invoke this function.</p>
                </td>
            </tr>
            <tr>
                <td>
                    <p class="articleContent">OutputFormat</p>
                </td>
                <td>
                    <p class="articleContent">Char 1</p>
                </td>
                <td>
                    <p class="articleContent">N</p>
                </td>
                <td>
                    <p class="articleContent">T for text, H for HTTP URL-encoded, X for XML, J for JSON. Defaults to T.</p>
                </td>
            </tr>
            <tr>
                <td>
                    <p class="articleContent">Source</p>
                </td>
                <td>
                    <p class="articleContent">Integer</p>
                </td>
                <td>
                    <p class="articleContent">Y</p>
                </td>
                <td>
                    <p class="articleContent">Pass one (1) for attendee, two (2) for documents, three (3) for exhibitor, four (4) for booth, five (5) for show, seven (7) for event/presentation.</p>
                </td>
            </tr>
            <tr>
                <td>
                    <p class="articleContent">ShowKey</p>
                </td>
                <td>
                    <p class="articleContent">Integer</p>
                </td>
                <td>
                    <p class="articleContent"> </p>
                </td>
                <td>
                    <p class="articleContent"> </p>
                </td>
            </tr>
            <tr>
                <td>
                    <p class="articleContent">KeyVal</p>
                </td>
                <td>
                    <p class="articleContent">Integer</p>
                </td>
                <td>
                    <p class="articleContent">-</p>
                </td>
                <td>
                    <p class="articleContent">Refers to a VTS record that matches the Source</p>
                </td>
            </tr>
            <tr>
                <td>
                    <p class="articleContent">LookupKeyValByExternalID</p>
                </td>
                <td>
                    <p class="articleContent">Integer</p>
                </td>
                <td>
                    <p class="articleContent">N</p>
                </td>
                <td>
                    <p class="articleContent">Use one (1) to look up the record by KeyValExternalID. Use zero (0) to lookup by KeyVal. Defaults to zero (0).</p>
                </td>
            </tr>
            <tr>
                <td>
                    <p class="articleContent">KeyValExternalID</p>
                </td>
                <td>
                    <p class="articleContent">Varchar 255</p>
                </td>
                <td>
                    <p class="articleContent">-</p>
                </td>
                <td>
                    <p class="articleContent">Refers to a VTS record that matches the Source</p>
                </td>
            </tr>
            <tr>
                <td>
                    <p class="articleContent">UDFValue</p>
                </td>
                <td>
                    <p class="articleContent">Varchar 8000</p>
                </td>
                <td>
                    <p class="articleContent">Y</p>
                </td>
                <td>
                    <p class="articleContent">New value to save. Format this field as: $[UDFNo-UDFValue]$$[UDFNo-UDFValue]$ for example $[1000-Red]$$[1001-Ice Cream]$</p>
                </td>
            </tr>
        </tbody>
    </table><h2>Return Outputs</h2>
    <p class="articleContent">This API returns the VTS UDF Key Val that was saved.</p>
    <p class="articleContent"> </p>
    <h2>Text</h2>
    <pre><code>
    ### APICallResult=0 APICallDiagnostic=OK OpCodesProcessed=1 OpCodesInError=0
    ## OpCode=UVM Status=0 Message=OK
    KeyVal
    123456
    </code></pre>
    <h2>HTTP URL-encoded</h2>
    <pre><code>
    APICallResult=0&amp;APICallDiagnostic=OK&amp;OpCodesProcessed=1&amp;OpCodesInError=0&amp;OpCode=UVM&amp;Status=0&amp;Message=OK&amp;KeyVal=123456
    </code></pre>
    <h2>XML</h2>
    <pre><code>
    &lt;?xml version="1.0" encoding="utf-8" ?&gt;
    &lt;APIResults APICallResult="0" APICallDiagnostic="OK" OpCodesProcessed="1" OpCodesInError=”0” &gt;
    &lt;OpCodeResult OpCode="UVM" Status="0" Message="OK" &gt;
     &lt;ResultRow&gt;
      &lt;KeyVal&gt;123456&lt;/KeyVal&gt;
     &lt;/ResultRow&gt;
    &lt;/OpCodeResult&gt;
    &lt;/APIResults&gt;
    </code></pre>
    <h2>JSON</h2>
    <pre><code>
    {"APIResults":{"APICallResult":"0","APICallDiagnostic":"OK","OpCodesProcessed":"1","OpCodesInError":"0","OpCodeResults":[{"OpCode":"UVM","Status":"0","Message":"OK","Results":[{"KeyVal":123456}]}]}}
    </code></pre>
    <h2>Potential Error Codes</h2>
    <table border="1" cellpadding="1" cellspacing="1">
        <thead>
            <tr>
                <th>
                    <p class="articleContent">Error</p>
                </th>
                <th>
                    <p class="articleContent">Message</p>
                </th>
                <th>
                    <p class="articleContent">Reason</p>
                </th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>
                    <p class="articleContent">40</p>
                </td>
                <td>
                    <p class="articleContent">KeyVal not found!</p>
                </td>
                <td>
                    <p class="articleContent">The KeyVal or KeyValExternalID with LookupKeyValByExternalID set to one (1) must match a valid record for the Source in your tenant.</p>
                </td>
            </tr>
            <tr>
                <td>
                    <p class="articleContent">42</p>
                </td>
                <td>
                    <p class="articleContent">UDFList Missing!</p>
                </td>
                <td>
                    <p class="articleContent">UDFValue must have a value</p>
                </td>
            </tr>
        </tbody>
    </table>
</article>