<article>
    <h1>Event Moderators OpCode EMI: Add Moderator/Staffer to an Event</h1>
    <h2>Event Moderators OpCode EMI: Add Moderator/Staffer to an Event</h2>
    <p class="articleContent">This opcode is used to add an existing Show User as a moderator or staffer to an existing Event in the specified show. The Event to add this staffer to may be identified by specifying the EventKey, EventCode, or EventDescription. The user to add may be identified by specifying either the ShowUserKey in StaffShowUserKey or the user’s email address in StaffEMailAddress.</p>
    <h2>Calling the API</h2>
    <p class="articleContent">The API is called via a secure HTTPS request. This HTTPS request may be a GET or POST operation (except for file uploading which requires a multi-part form post). Each request must supply the authentication credentials assigned to the caller by Notified. Only requests with valid credentials will be processed. These credentials identify the caller and provide access only to a specific customer area.</p>
    <p class="articleContent">The format of the API call is: https://api.onlinexperiences.com/scripts/Server.nxp?LASCmd=AI:4;F:APIUTILS!50540&amp;APIUserAuthCode={YourAuthCode}&amp;APIUserCredentials={YourCredentials}&amp;OpCodeList={Opcode[OpCode[…]]}&amp;OutputFormat={X|H|T(default)}&amp;ShowKey={ShowKey}&amp;{Additional, opcode-specific parameters in name=value format…}</p>
    <p class="articleContent">Specific parameter ordering is unimportant, with the only restriction being that the first parameter MUST BE LASCmd=AI:4;F:APIUTILS!50540. All other parameters may appear in any sequence order.</p>
    <table border="1" cellpadding="1" cellspacing="1">
        <thead>
            <tr>
                <th>
                    <p class="articleContent">API Parameter</p>
                </th>
                <th>
                    <p class="articleContent">Type/Size</p>
                </th>
                <th>
                    <p class="articleContent">Req.</p>
                </th>
                <th>
                    <p class="articleContent">Comment</p>
                </th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>
                    <p class="articleContent">APIUserAuthCode</p>
                </td>
                <td>
                    <p class="articleContent">Varchar 80</p>
                </td>
                <td>
                    <p class="articleContent">Y</p>
                </td>
                <td>
                    <p class="articleContent">Your API authorization code as supplied by Notified.</p>
                </td>
            </tr>
            <tr>
                <td>
                    <p class="articleContent">APIUserCredentials</p>
                </td>
                <td>
                    <p class="articleContent">Varchar 80</p>
                </td>
                <td>
                    <p class="articleContent">Y</p>
                </td>
                <td>
                    <p class="articleContent">Your API user credentials as supplied by Notified.</p>
                </td>
            </tr>
            <tr>
                <td>
                    <p class="articleContent">OpCodeList</p>
                </td>
                <td>
                    <p class="articleContent">Varchar 20</p>
                </td>
                <td>
                    <p class="articleContent">Y</p>
                </td>
                <td>
                    <p class="articleContent">Should include EMI to invoke this function.</p>
                </td>
            </tr>
            <tr>
                <td>
                    <p class="articleContent">OutputFormat</p>
                </td>
                <td>
                    <p class="articleContent">Char 1</p>
                </td>
                <td>
                    <p class="articleContent">N</p>
                </td>
                <td>
                    <p class="articleContent">T for text, H for HTTP URL-encoded, or X for XML. Defaults to T.</p>
                </td>
            </tr>
            <tr>
                <td>
                    <p class="articleContent">ShowKey</p>
                </td>
                <td>
                    <p class="articleContent">Integer</p>
                </td>
                <td>
                    <p class="articleContent">Y</p>
                </td>
                <td>
                    <p class="articleContent">The ShowKey that the Event belongs to.</p>
                </td>
            </tr>
            <tr>
                <td>
                    <p class="articleContent">EventKey</p>
                </td>
                <td>
                    <p class="articleContent">Integer</p>
                </td>
                <td>
                    <p class="articleContent">N</p>
                </td>
                <td>
                    <p class="articleContent">The event key to add the staffer to.</p>
                </td>
            </tr>
            <tr>
                <td>
                    <p class="articleContent">EventCode</p>
                </td>
                <td>
                    <p class="articleContent">Varchar 255</p>
                </td>
                <td>
                    <p class="articleContent">N</p>
                </td>
                <td>
                    <p class="articleContent">The event code to add the staffer to.</p>
                </td>
            </tr>
            <tr>
                <td>
                    <p class="articleContent">EventDescription</p>
                </td>
                <td>
                    <p class="articleContent">Varchar 355</p>
                </td>
                <td>
                    <p class="articleContent">N</p>
                </td>
                <td>
                    <p class="articleContent">The description of the event to add the staffer to.</p>
                </td>
            </tr>
            <tr>
                <td>
                    <p class="articleContent">StaffShowUserKey</p>
                </td>
                <td>
                    <p class="articleContent">Integer</p>
                </td>
                <td>
                    <p class="articleContent">N</p>
                </td>
                <td>
                    <p class="articleContent">The Show User Key of the user to add as a staffer.</p>
                </td>
            </tr>
            <tr>
                <td>
                    <p class="articleContent">StaffEMailAddress</p>
                </td>
                <td>
                    <p class="articleContent">Varchar 255</p>
                </td>
                <td>
                    <p class="articleContent">N</p>
                </td>
                <td>
                    <p class="articleContent">The email address of the show user to add as a staffer.</p>
                </td>
            </tr>
            <tr>
                <td>
                    <p class="articleContent">StaffModeratorRights</p>
                </td>
                <td>
                    <p class="articleContent">Integer</p>
                </td>
                <td>
                    <p class="articleContent">N</p>
                </td>
                <td>
                    <p class="articleContent">Bitmap flags describing the rights for this staffer. See EML for definition.</p>
                </td>
            </tr>
            <tr>
                <td>
                    <p class="articleContent">StaffPhotoURL</p>
                </td>
                <td>
                    <p class="articleContent">Varchar 256</p>
                </td>
                <td>
                    <p class="articleContent">N</p>
                </td>
                <td>
                    <p class="articleContent">The photo URL of the staffer.</p>
                </td>
            </tr>
            <tr>
                <td>
                    <p class="articleContent">StaffDisplayOrder</p>
                </td>
                <td>
                    <p class="articleContent">Integer</p>
                </td>
                <td>
                    <p class="articleContent">N</p>
                </td>
                <td>
                    <p class="articleContent">The number index used to sort this staffer relative to other staffers.</p>
                </td>
            </tr>
        </tbody>
    </table><p class="articleContent"> </p>
    <h2>Return Outputs</h2>
    <p class="articleContent">
        <br />
        This API returns the status message OK and the EventStaffKey and EventKey upon successful completion.
    </p>
    <h2>Text</h2>
    <p class="articleContent">
        <br />
        ### APICallResult=0 APICallDiagnostic=OK OpCodesProcessed=1 OpCodesInError=0
    </p>
    <p class="articleContent">## OpCode=EMI Status=0 Message=OK</p>
    <p class="articleContent">EventStaffKey,EventKey</p>
    <p class="articleContent">123456,7890</p>
    <h2>HTTP URL-encoded</h2>
    <p class="articleContent">
        <br />
        APICallResult=0&amp;APICallDiagnostic=OK&amp;OpCodesProcessed=1&amp; OpCodesInError=0&amp;OpCode=EMI&amp;Status=0&amp;Message=OK&amp;EventStaffKey=123456&amp;EventKey=7890
    </p>
    <h2>XML</h2>
    <p class="articleContent">
        <br />
        &lt;?xml version="1.0" encoding="utf-8" ?&gt;
    </p>
    <p class="articleContent">&lt;APIResults APICallResult="0" APICallDiagnostic="OK" OpCodesProcessed="1" OpCodesInError=”0” &gt;</p>
    <p class="articleContent">&lt;OpCodeResult OpCode="EMI" Status="0" Message="OK" &gt;</p>
    <p class="articleContent"> &lt;ResultRow&gt;</p>
    <p class="articleContent">  &lt;EventStaffKey&gt;123456&lt;/EventStaffKey&gt;</p>
    <p class="articleContent">  &lt;EventKey&gt;7890&lt;/EventKey&gt;</p>
    <p class="articleContent">  &lt;SpeakerID&gt;B77F46E9-95A9-4307-83B2-800D063E13AD&lt;/SpeakerID&gt;</p>
    <p class="articleContent"> &lt;/ResultRow&gt;</p>
    <p class="articleContent">&lt;/OpCodeResult&gt;</p>
    <p class="articleContent">&lt;/APIResults&gt;</p>
    <h2>Potential Error Codes</h2>
    <p class="articleContent"> </p>
    <table border="1" cellpadding="1" cellspacing="1">
        <thead>
            <tr>
                <th>
                    <p class="articleContent">Error</p>
                </th>
                <th>
                    <p class="articleContent">Message</p>
                </th>
                <th>
                    <p class="articleContent">Reason</p>
                </th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>
                    <p class="articleContent">41</p>
                </td>
                <td>
                    <p class="articleContent">Event Not Found!</p>
                </td>
                <td>
                    <p class="articleContent">The function could not find a matching event entry based on the values supplied in EventKey, EventCode, or EventDescription.</p>
                </td>
            </tr>
            <tr>
                <td>
                    <p class="articleContent">42</p>
                </td>
                <td>
                    <p class="articleContent">Show User Not Found!</p>
                </td>
                <td>
                    <p class="articleContent">The function could not find a matching Show User based on the values supplied in StaffShowUserKey or StaffEMailAddress.</p>
                </td>
            </tr>
            <tr>
                <td>
                    <p class="articleContent">43</p>
                </td>
                <td>
                    <p class="articleContent">Show User Already Staffed To This Event!</p>
                </td>
                <td>
                    <p class="articleContent">The specified show user is already a staffer for this event. Users may only be staffed once.</p>
                </td>
            </tr>
        </tbody>
    </table>
</article>